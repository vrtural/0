<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta name="robots" content="noindex, nofollow">
   <meta name="theme-color" content="#000000">
   <meta name="description" content="this is my website where i can do something, share about myself, do some projects">

   <meta property="og:title" content="Virtural Lab">
   <meta property="og:description" content="Just experiments">
   <meta property="og:image" content="https://s.theanh.wuaze.com/assets/og.jpg">
   <meta property="og:url" content="https://s.theanh.wuaze.com/"> 
   <meta property="og:type" content="website">

   <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
   <link rel="shortcut icon" href="../assets/favicon.ico" type="image/x-icon">
   <link rel="stylesheet" href="../css/projects.css">

   <title>Virtural Lab</title>
</head>
<body>
  
   <div id="header">
      <img src="../assets/logo.png" alt="logo">
      <h1>AMPD Scripts</h1>
   </div>

   <main>
      <section id="intro">
         <h2>Auto Music PLaylist Downloader</h2>
         <p>A simple script to download music pLaylists using a predefined setup</p>
      </section>

      <section id="features">
         <h3>Features</h3>
         <ul>
            <li>Automatic environment check and setup</li>
            <li>Downloads entire playlists or single videos</li>
            <li>Converts audio to M4A format using FFmpeg</li>
            <li>Embeds thumbnails and metadata</li>
            <li>Simple folder navigation before downloading</li>
        </ul>
      </section>

      <section id="usage">
         <h3>Usage</h3>
         <p>Copy and run the script in termux and follow the on-screen prompts</p>
      </section>

      <section class="script">
        <div>
         <h3>Script</h3>
         <button class="copy-btn" data-target="#code-1">üìã Copy</button>
        </div>
        <pre><code id="code-1">
#!/data/data/com.termux/files/usr/bin/bash
clear

echo "üì¶ ƒêang ki·ªÉm tra c√°c c√¥ng c·ª• c·∫ßn thi·∫øt..."
sleep 3

tools_ok=1
missing=()

# ===== Ki·ªÉm tra t·ª´ng c√¥ng c·ª• =====
for tool in python ffmpeg yt-dlp iconv; do
  if ! command -v "$tool" >/dev/null 2>&1; then
    tools_ok=0
    missing+=("$tool")
  fi
done

# ===== N·∫øu thi·∫øu, ti·∫øn h√†nh setup =====
if [ "$tools_ok" -eq 0 ]; then
  echo "‚ö†Ô∏è Thi·∫øu c√°c c√¥ng c·ª• sau: ${missing[*]}"
  echo "üîß B·∫Øt ƒë·∫ßu c√†i ƒë·∫∑t..."
  sleep 2

  pkg update -y && pkg upgrade -y
  pkg install -y python ffmpeg libiconv
  pip install -U yt-dlp
  termux-setup-storage

  echo "‚úÖ C√†i ƒë·∫∑t ho√†n t·∫•t!"
  sleep 2
else
  echo "‚úÖ ƒê√£ ƒë·ªß c√¥ng c·ª•, b·ªè qua setup."
  sleep 1
fi

sleep 5

# ===== Ch·ªçn th∆∞ m·ª•c l∆∞u =====
cd /storage/emulated/0/

while true; do
  clear
  echo "B·∫°n ƒëang ·ªü: $(pwd)"
  echo "-----------------------------------------------"
  ls -1 | sed 's/^/üìÑ /'
  echo "-----------------------------------------------"
  echo ""

  read -p "üìÅ Nh·∫≠p t√™n th∆∞ m·ª•c mu·ªën l∆∞u (th∆∞ m·ª•c ph·∫£i t·ªìn t·∫°i): " folder

  if [ -z "$folder" ]; then
    echo "üìÇ D√πng th∆∞ m·ª•c hi·ªán t·∫°i: $(pwd)"
    break
  elif [ -d "$folder" ]; then
    cd "$folder"
    echo ""
    echo "‚úÖ ƒê√£ v√†o th∆∞ m·ª•c: $(pwd)"
    break
  else
    echo "‚ùå Th∆∞ m·ª•c '$folder' kh√¥ng t·ªìn t·∫°i. Th·ª≠ l·∫°i..."
    sleep 2
  fi
done

# ===== Nh·∫≠p URL =====
while true; do
  echo ""
  read -p "üîó Nh·∫≠p URL YouTube c·∫ßn t·∫£i (playlist ho·∫∑c video): " url

  if yt-dlp --simulate "$url" >/dev/null 2>&1; then
    echo ""
    echo "‚úÖ URL h·ª£p l·ªá. Ti·∫øn h√†nh t·∫£i..."
    break
  else
    echo ""
    echo "‚ùå URL kh√¥ng h·ª£p l·ªá ho·∫∑c kh√¥ng h·ªó tr·ª£. Vui l√≤ng nh·∫≠p l·∫°i."
    sleep 2
  fi
done

# ===== T·∫£i xu·ªëng =====
echo ""
echo "üé¨ B·∫Øt ƒë·∫ßu t·∫£i xu·ªëng..."
sleep 2

yt-dlp -f bestaudio --audio-format m4a -x --embed-thumbnail --add-metadata --prefer-ffmpeg "$url"

# ===== Hi·ªÉn th·ªã k·∫øt qu·∫£ =====
echo ""
echo "‚úÖ Script ho√†n t·∫•t chu tr√¨nh"
echo ""

file_count=$(find . -maxdepth 1 -type f | wc -l)
echo "üì¶ T·ªïng s·ªë file: $file_count"
echo ""

read -p "üëâ Nh·∫•n Enter ƒë·ªÉ tho√°t..."
clear
echo "ch√∫c m·ªôt ng√†y t·ªët l√†nh!"
sleep 2
exit 0
        </code></pre>
      </section>
   </main>

   <script src="../js/copy-code.js"></script>
</body>
</html>